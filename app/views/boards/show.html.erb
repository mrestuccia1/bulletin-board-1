<html>
<head>
  <style type="text/css">
    .turbo-progress-bar {
      position: fixed;
      display: block;
      top: 0;
      left: 0;
      height: 3px;
      background: #0076ff;
      z-index: 2147483647;
      transition: width 300ms ease-out, opacity 150ms 150ms ease-in;
      transform: translate3d(0, 0, 0);
    }
  </style>
  <title>Target: Bulletin Board 1</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="csrf-param" content="authenticity_token">
  <link rel="stylesheet" href="/assets/application-e0cf9d8fcb18bf7f909d8d91a5e78499f82ac29523d475bf3a9ab265d5e2b451.css" data-turbo-track="reload">
  <script type="importmap" data-turbo-track="reload">
    // import maps
  </script>
  <link rel="modulepreload" href="/assets/application-37f365cbecf1fa2810a8303f4b6571676fa1f9c56c248528bc14ddb857531b95.js">
  <script src="/assets/es-module-shims.min-d89e73202ec09dede55fb74115af9c5f9f2bb965433de1c2446e1faa6dac2470.js" async="async" data-turbo-track="reload"></script>
  <script type="module">import "application"</script>
  <meta name="csrf-token" content="C8Rklu8hAO4SzqfXJex8QeQqqOJmDrTswg7UGwSJEh9fhTpoX-lyV2ZGtS48V2nEjr54i65e83thjTpFWnkCAQ">
</head>
<body>
  <nav>
    <a href="/">Bulletin Board</a>
  </nav>
  <hr>
  <div>
    <div>
      <h1>
        <%= @the_board.name %>
      </h1>
    </div>
  </div>
  <hr>
  <h2>
    Add a new post
  </h2>
  <form action="/insert_post" method="post">
    <div>
      <label for="title_box">
        Title
      </label>
      <input type="text" id="title_box" name="query_title">
    </div>
    <div>
      <label for="body_box">
        Body
      </label>
      <textarea id="body_box" name="query_body" rows="3"></textarea>
    </div>
    <div>
      <label for="expires_on_box">
        Expires on
      </label>
      <input type="date" id="expires_on_box" name="query_expires_on">
    </div>
    <input type="hidden" id="board_id_box" name="query_board_id" value="<%= @the_board.id %>">
    <button>
      Add post
    </button>
  </form>
  <hr>
  <h2>Active posts</h2>
  <table border="1">
    <thead>
      <tr>
        <th>Title</th>
        <th>Body</th>
        <th>Posted on</th>
        <th>Expires on</th>
      </tr>
    </thead>
    <tbody>
      <% @current_posts.each do |post| %>
      <tr>
        <td><%= post.title %></td>
        <td><%= post.body %></td>
        <td><%= post.created_at.strftime("%b %d, %Y") %></td>
        <td><%= post.expires_on.strftime("%b %d, %Y") %></td>
      </tr>
      <% end %>
    </tbody>
  </table>
  <h2>Expired posts</h2>
  <table border="1">
    <thead>
      <tr>
        <th>Title</th>
        <th>Body</th>
        <th>Posted on</th>
        <th>Expired on</th>
      </tr>
    </thead>
    <tbody>
      <% @expired_posts.each do |post| %>
      <tr>
        <td><%= post.title %></td>
        <td><%= post.body %></td>
        <td><%= post.created_at.strftime("%b %d, %Y") %></td>
        <td><%= post.expires_on.strftime("%b %d, %Y") %></td>
      </tr>
      <% end %>
    </tbody>
  </table>
</body>
</html>
